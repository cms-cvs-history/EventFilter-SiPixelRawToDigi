process DigiToRawTest2 = {

  source = PoolSource { 
    untracked vstring fileNames = {'file:digis.root'}
    untracked int32 maxEvents = -1
    untracked uint32 debugVebosity = 0
    untracked bool   debugFlag     = false 
  }

  # cabling
  include "CondCore/DBCommon/data/CondDBCommon.cfi"
  replace CondDBCommon.connect = "sqlite_file:cabling.db"
  replace CondDBCommon.catalog = "file:cablingCatalog.xml"
  replace CondDBCommon.timetype = "runnumber"
  replace CondDBCommon.DBParameters.messageLevel = 1
  replace CondDBCommon.DBParameters.authenticationPath="."
  es_source = PoolDBESSource {
    using CondDBCommon
    VPSet toGet={{string record="SiPixelFedCablingMapRcd" string tag="SiPixelFedCablingMap_v1"}}
  }


  # Tracker SimGeometryXML
  include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"
  
  # Tracker Geometry Builder
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
 
  # Tracker Numbering Builder
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  # Pixel DigiToRaw conversion
  include "EventFilter/SiPixelRawToDigi/data/SiPixelDigiToRaw.cfi"

  # Message Logger	
   service = MessageLogger {
     untracked vstring destinations   = { "runDigiToRaw.log" }
     untracked PSet runDigiToRaw.log = { untracked string threshold = "DEBUG"}
  #   untracked vstring debugModules = { "siPixelRawData"}
    untracked vstring debugModules = { " " }
   } 



  module rawdata = PoolOutputModule {
    untracked string fileName = 'rawdata.root'
    untracked vstring outputCommands = { "drop *", "keep *_siPixelRawData_*_*" } 
  }

  #Provide a scheduler path
  path p = { siPixelRawData } 
  endpath e = { rawdata }
}
