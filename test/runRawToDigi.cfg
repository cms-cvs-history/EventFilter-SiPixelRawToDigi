process RawToDigiTest2 = {

  source = PoolSource { untracked vstring fileNames =  {'file:rawdata.root'} }

      es_source = PoolDBESSource {
                      VPSet toGet = {
                        { string record = "SiPixelFedCablingMapRcd"
                          string tag = "SiPixelFedCablingMap_v1"
                        }
                      }
                      bool loadAll = true
                      string timetype = "runnumber"
                      string connect = "sqlite_file:../data/cabling.db"
                      untracked string catalog = "file:../data/cablingCatalog.xml"
                    }


  # Tracker SimGeometryXML
  include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"
  
  # Tracker Geometry Builder
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
 
  # Tracker Numbering Builder
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  # Pixel RawToDigi conversion
  include "EventFilter/SiPixelRawToDigi/data/SiPixelRawToDigi.cfi"

  # Message Logger	
   service = MessageLogger {
     untracked vstring destinations   = { "runRawToDigi.log" }
     untracked PSet runRawToDigi.log = { untracked string threshold = "DEBUG"}
#     untracked vstring debugModules = { "siPixelDigis"}
     untracked vstring debugModules = { " " }
   } 

  module rawtodigi = PoolOutputModule {
    untracked string fileName = 'digis_from_rawdata.root'
    untracked vstring outputCommands = { "drop *", "keep *_siPixelDigis_*_*"}
  }

  #Provide a scheduler path
  path p = { siPixelDigis }      
  endpath e = { rawtodigi }

}
